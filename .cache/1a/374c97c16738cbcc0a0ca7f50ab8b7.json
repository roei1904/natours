{"id":"g63L","dependencies":[{"name":"C:\\Projects\\starter\\package.json","includedInParent":true,"mtime":1769982820415},{"name":"./alerts","loc":{"line":1,"column":26,"index":26},"parent":"C:\\Projects\\starter\\public\\js\\mapbox.js","resolved":"C:\\Projects\\starter\\public\\js\\alerts.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.displayMap=void 0;var e=require(\"./alerts\"),t=exports.displayMap=function(e){if(document.getElementById(\"map\")&&e&&0!==e.length){var t=function(){if(\"undefined\"!=typeof L)try{var o=L.map(\"map\");L.tileLayer(\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",{attribution:'&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',maxZoom:19}).addTo(o);var r=new L.featureGroup;e.forEach(function(e){var t=L.marker([e.coordinates[1],e.coordinates[0]]).addTo(o);t.bindPopup(\"<p><strong>Day \".concat(e.day,\":</strong> \").concat(e.description,\"</p>\"),{maxWidth:250}),r.addLayer(t)}),r.getLayers().length>0&&o.fitBounds(r.getBounds(),{padding:[100,100]})}catch(a){console.error(\"Error initializing map:\",a)}else setTimeout(t,100)};t()}};document.addEventListener(\"DOMContentLoaded\",function(){var e=document.getElementById(\"map\");if(e)try{var o=JSON.parse(e.dataset.locations);t(o)}catch(r){console.error(\"Error parsing locations:\",r)}});"},"sourceMaps":{"js":{"mappings":[{"source":"mapbox.js","original":{"line":68,"column":2},"generated":{"line":1,"column":0}},{"source":"mapbox.js","original":{"line":68,"column":2},"generated":{"line":1,"column":13}},{"source":"mapbox.js","original":{"line":68,"column":2},"generated":{"line":1,"column":20}},{"source":"mapbox.js","original":{"line":68,"column":2},"generated":{"line":1,"column":35}},{"source":"mapbox.js","original":{"line":68,"column":2},"generated":{"line":1,"column":43}},{"source":"mapbox.js","original":{"line":68,"column":2},"generated":{"line":1,"column":56}},{"source":"mapbox.js","original":{"line":68,"column":2},"generated":{"line":1,"column":57}},{"source":"mapbox.js","original":{"line":68,"column":2},"generated":{"line":1,"column":64}},{"source":"mapbox.js","original":{"line":68,"column":2},"generated":{"line":1,"column":68}},{"source":"mapbox.js","original":{"line":68,"column":2},"generated":{"line":1,"column":76}},{"source":"mapbox.js","original":{"line":68,"column":2},"generated":{"line":1,"column":92}},{"source":"mapbox.js","original":{"line":1,"column":0},"generated":{"line":1,"column":94}},{"source":"mapbox.js","name":"_alerts","original":{"line":1,"column":0},"generated":{"line":1,"column":98}},{"source":"mapbox.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"mapbox.js","original":{"line":1,"column":0},"generated":{"line":1,"column":108}},{"source":"mapbox.js","name":"displayMap","original":{"line":3,"column":6},"generated":{"line":1,"column":120}},{"source":"mapbox.js","name":"exports","original":{"line":3,"column":16},"generated":{"line":1,"column":122}},{"source":"mapbox.js","name":"displayMap","original":{"line":3,"column":16},"generated":{"line":1,"column":130}},{"source":"mapbox.js","original":{"line":3,"column":19},"generated":{"line":1,"column":141}},{"source":"mapbox.js","name":"locations","original":{"line":3,"column":20},"generated":{"line":1,"column":150}},{"source":"mapbox.js","original":{"line":5,"column":2},"generated":{"line":1,"column":153}},{"source":"mapbox.js","name":"document","original":{"line":4,"column":21},"generated":{"line":1,"column":156}},{"source":"mapbox.js","name":"getElementById","original":{"line":4,"column":30},"generated":{"line":1,"column":165}},{"source":"mapbox.js","original":{"line":4,"column":45},"generated":{"line":1,"column":180}},{"source":"mapbox.js","name":"locations","original":{"line":9,"column":7},"generated":{"line":1,"column":188}},{"source":"mapbox.js","original":{"line":9,"column":41},"generated":{"line":1,"column":191}},{"source":"mapbox.js","name":"locations","original":{"line":9,"column":20},"generated":{"line":1,"column":195}},{"source":"mapbox.js","name":"length","original":{"line":9,"column":30},"generated":{"line":1,"column":197}},{"source":"mapbox.js","original":{"line":9,"column":2},"generated":{"line":1,"column":204}},{"source":"mapbox.js","original":{"line":14,"column":2},"generated":{"line":1,"column":205}},{"source":"mapbox.js","name":"initializeMap","original":{"line":14,"column":8},"generated":{"line":1,"column":209}},{"source":"mapbox.js","original":{"line":14,"column":24},"generated":{"line":1,"column":211}},{"source":"mapbox.js","original":{"line":15,"column":4},"generated":{"line":1,"column":222}},{"source":"mapbox.js","original":{"line":15,"column":21},"generated":{"line":1,"column":225}},{"source":"mapbox.js","name":"L","original":{"line":15,"column":15},"generated":{"line":1,"column":245}},{"source":"mapbox.js","original":{"line":20,"column":4},"generated":{"line":1,"column":247}},{"source":"mapbox.js","original":{"line":21,"column":6},"generated":{"line":1,"column":251}},{"source":"mapbox.js","name":"map","original":{"line":21,"column":12},"generated":{"line":1,"column":255}},{"source":"mapbox.js","name":"L","original":{"line":21,"column":18},"generated":{"line":1,"column":257}},{"source":"mapbox.js","name":"map","original":{"line":21,"column":20},"generated":{"line":1,"column":259}},{"source":"mapbox.js","original":{"line":21,"column":24},"generated":{"line":1,"column":263}},{"source":"mapbox.js","name":"L","original":{"line":23,"column":6},"generated":{"line":1,"column":270}},{"source":"mapbox.js","name":"tileLayer","original":{"line":23,"column":8},"generated":{"line":1,"column":272}},{"source":"mapbox.js","original":{"line":23,"column":18},"generated":{"line":1,"column":282}},{"source":"mapbox.js","original":{"line":23,"column":72},"generated":{"line":1,"column":335}},{"source":"mapbox.js","name":"attribution","original":{"line":24,"column":8},"generated":{"line":1,"column":336}},{"source":"mapbox.js","original":{"line":25,"column":10},"generated":{"line":1,"column":348}},{"source":"mapbox.js","name":"maxZoom","original":{"line":26,"column":8},"generated":{"line":1,"column":438}},{"source":"mapbox.js","original":{"line":26,"column":17},"generated":{"line":1,"column":446}},{"source":"mapbox.js","name":"addTo","original":{"line":27,"column":9},"generated":{"line":1,"column":451}},{"source":"mapbox.js","name":"map","original":{"line":27,"column":15},"generated":{"line":1,"column":457}},{"source":"mapbox.js","original":{"line":29,"column":6},"generated":{"line":1,"column":460}},{"source":"mapbox.js","name":"group","original":{"line":29,"column":12},"generated":{"line":1,"column":464}},{"source":"mapbox.js","original":{"line":29,"column":20},"generated":{"line":1,"column":466}},{"source":"mapbox.js","name":"L","original":{"line":29,"column":24},"generated":{"line":1,"column":470}},{"source":"mapbox.js","name":"featureGroup","original":{"line":29,"column":26},"generated":{"line":1,"column":472}},{"source":"mapbox.js","name":"locations","original":{"line":31,"column":6},"generated":{"line":1,"column":485}},{"source":"mapbox.js","name":"forEach","original":{"line":31,"column":16},"generated":{"line":1,"column":487}},{"source":"mapbox.js","original":{"line":31,"column":24},"generated":{"line":1,"column":495}},{"source":"mapbox.js","name":"loc","original":{"line":31,"column":25},"generated":{"line":1,"column":504}},{"source":"mapbox.js","original":{"line":33,"column":8},"generated":{"line":1,"column":507}},{"source":"mapbox.js","name":"marker","original":{"line":33,"column":14},"generated":{"line":1,"column":511}},{"source":"mapbox.js","name":"L","original":{"line":33,"column":23},"generated":{"line":1,"column":513}},{"source":"mapbox.js","name":"marker","original":{"line":33,"column":25},"generated":{"line":1,"column":515}},{"source":"mapbox.js","original":{"line":33,"column":32},"generated":{"line":1,"column":522}},{"source":"mapbox.js","name":"loc","original":{"line":33,"column":33},"generated":{"line":1,"column":523}},{"source":"mapbox.js","name":"coordinates","original":{"line":33,"column":37},"generated":{"line":1,"column":525}},{"source":"mapbox.js","original":{"line":33,"column":49},"generated":{"line":1,"column":537}},{"source":"mapbox.js","name":"loc","original":{"line":33,"column":53},"generated":{"line":1,"column":540}},{"source":"mapbox.js","name":"coordinates","original":{"line":33,"column":57},"generated":{"line":1,"column":542}},{"source":"mapbox.js","original":{"line":33,"column":69},"generated":{"line":1,"column":554}},{"source":"mapbox.js","name":"addTo","original":{"line":33,"column":74},"generated":{"line":1,"column":559}},{"source":"mapbox.js","name":"map","original":{"line":34,"column":10},"generated":{"line":1,"column":565}},{"source":"mapbox.js","name":"marker","original":{"line":36,"column":8},"generated":{"line":1,"column":568}},{"source":"mapbox.js","name":"bindPopup","original":{"line":36,"column":15},"generated":{"line":1,"column":570}},{"source":"mapbox.js","name":"concat","original":{"line":36,"column":24},"generated":{"line":1,"column":580}},{"source":"mapbox.js","name":"concat","original":{"line":36,"column":24},"generated":{"line":1,"column":598}},{"source":"mapbox.js","name":"loc","original":{"line":37,"column":28},"generated":{"line":1,"column":605}},{"source":"mapbox.js","name":"day","original":{"line":37,"column":32},"generated":{"line":1,"column":607}},{"source":"mapbox.js","name":"concat","original":{"line":37,"column":35},"generated":{"line":1,"column":611}},{"source":"mapbox.js","name":"concat","original":{"line":37,"column":35},"generated":{"line":1,"column":626}},{"source":"mapbox.js","name":"loc","original":{"line":37,"column":49},"generated":{"line":1,"column":633}},{"source":"mapbox.js","name":"description","original":{"line":37,"column":53},"generated":{"line":1,"column":635}},{"source":"mapbox.js","original":{"line":38,"column":10},"generated":{"line":1,"column":647}},{"source":"mapbox.js","original":{"line":38,"column":10},"generated":{"line":1,"column":655}},{"source":"mapbox.js","name":"maxWidth","original":{"line":39,"column":12},"generated":{"line":1,"column":656}},{"source":"mapbox.js","original":{"line":39,"column":22},"generated":{"line":1,"column":665}},{"source":"mapbox.js","name":"group","original":{"line":42,"column":8},"generated":{"line":1,"column":671}},{"source":"mapbox.js","name":"addLayer","original":{"line":42,"column":14},"generated":{"line":1,"column":673}},{"source":"mapbox.js","name":"marker","original":{"line":42,"column":23},"generated":{"line":1,"column":682}},{"source":"mapbox.js","name":"group","original":{"line":45,"column":10},"generated":{"line":1,"column":687}},{"source":"mapbox.js","name":"getLayers","original":{"line":45,"column":16},"generated":{"line":1,"column":689}},{"source":"mapbox.js","name":"length","original":{"line":45,"column":28},"generated":{"line":1,"column":701}},{"source":"mapbox.js","original":{"line":45,"column":37},"generated":{"line":1,"column":708}},{"source":"mapbox.js","name":"map","original":{"line":46,"column":8},"generated":{"line":1,"column":711}},{"source":"mapbox.js","name":"fitBounds","original":{"line":46,"column":12},"generated":{"line":1,"column":713}},{"source":"mapbox.js","name":"group","original":{"line":46,"column":22},"generated":{"line":1,"column":723}},{"source":"mapbox.js","name":"getBounds","original":{"line":46,"column":28},"generated":{"line":1,"column":725}},{"source":"mapbox.js","original":{"line":46,"column":41},"generated":{"line":1,"column":737}},{"source":"mapbox.js","name":"padding","original":{"line":47,"column":10},"generated":{"line":1,"column":738}},{"source":"mapbox.js","original":{"line":47,"column":19},"generated":{"line":1,"column":746}},{"source":"mapbox.js","original":{"line":47,"column":20},"generated":{"line":1,"column":747}},{"source":"mapbox.js","original":{"line":47,"column":25},"generated":{"line":1,"column":751}},{"source":"mapbox.js","original":{"line":50,"column":6},"generated":{"line":1,"column":758}},{"source":"mapbox.js","name":"error","original":{"line":50,"column":13},"generated":{"line":1,"column":764}},{"source":"mapbox.js","name":"console","original":{"line":51,"column":6},"generated":{"line":1,"column":767}},{"source":"mapbox.js","name":"error","original":{"line":51,"column":14},"generated":{"line":1,"column":775}},{"source":"mapbox.js","original":{"line":51,"column":20},"generated":{"line":1,"column":781}},{"source":"mapbox.js","name":"error","original":{"line":51,"column":47},"generated":{"line":1,"column":807}},{"source":"mapbox.js","name":"setTimeout","original":{"line":16,"column":6},"generated":{"line":1,"column":815}},{"source":"mapbox.js","name":"initializeMap","original":{"line":16,"column":17},"generated":{"line":1,"column":826}},{"source":"mapbox.js","original":{"line":16,"column":32},"generated":{"line":1,"column":828}},{"source":"mapbox.js","name":"initializeMap","original":{"line":55,"column":2},"generated":{"line":1,"column":834}},{"source":"mapbox.js","name":"document","original":{"line":58,"column":0},"generated":{"line":1,"column":840}},{"source":"mapbox.js","name":"addEventListener","original":{"line":58,"column":9},"generated":{"line":1,"column":849}},{"source":"mapbox.js","original":{"line":58,"column":26},"generated":{"line":1,"column":866}},{"source":"mapbox.js","original":{"line":58,"column":46},"generated":{"line":1,"column":885}},{"source":"mapbox.js","original":{"line":59,"column":2},"generated":{"line":1,"column":896}},{"source":"mapbox.js","name":"mapElement","original":{"line":59,"column":8},"generated":{"line":1,"column":900}},{"source":"mapbox.js","name":"document","original":{"line":59,"column":21},"generated":{"line":1,"column":902}},{"source":"mapbox.js","name":"getElementById","original":{"line":59,"column":30},"generated":{"line":1,"column":911}},{"source":"mapbox.js","original":{"line":59,"column":45},"generated":{"line":1,"column":926}},{"source":"mapbox.js","original":{"line":60,"column":2},"generated":{"line":1,"column":933}},{"source":"mapbox.js","name":"mapElement","original":{"line":60,"column":6},"generated":{"line":1,"column":936}},{"source":"mapbox.js","original":{"line":61,"column":4},"generated":{"line":1,"column":938}},{"source":"mapbox.js","original":{"line":62,"column":6},"generated":{"line":1,"column":942}},{"source":"mapbox.js","name":"locations","original":{"line":62,"column":12},"generated":{"line":1,"column":946}},{"source":"mapbox.js","name":"JSON","original":{"line":62,"column":24},"generated":{"line":1,"column":948}},{"source":"mapbox.js","name":"parse","original":{"line":62,"column":29},"generated":{"line":1,"column":953}},{"source":"mapbox.js","name":"mapElement","original":{"line":62,"column":35},"generated":{"line":1,"column":959}},{"source":"mapbox.js","name":"dataset","original":{"line":62,"column":46},"generated":{"line":1,"column":961}},{"source":"mapbox.js","name":"locations","original":{"line":62,"column":54},"generated":{"line":1,"column":969}},{"source":"mapbox.js","name":"displayMap","original":{"line":63,"column":6},"generated":{"line":1,"column":980}},{"source":"mapbox.js","name":"locations","original":{"line":63,"column":17},"generated":{"line":1,"column":982}},{"source":"mapbox.js","original":{"line":64,"column":6},"generated":{"line":1,"column":985}},{"source":"mapbox.js","name":"error","original":{"line":64,"column":13},"generated":{"line":1,"column":991}},{"source":"mapbox.js","name":"console","original":{"line":65,"column":6},"generated":{"line":1,"column":994}},{"source":"mapbox.js","name":"error","original":{"line":65,"column":14},"generated":{"line":1,"column":1002}},{"source":"mapbox.js","original":{"line":65,"column":20},"generated":{"line":1,"column":1008}},{"source":"mapbox.js","name":"error","original":{"line":65,"column":48},"generated":{"line":1,"column":1035}}],"sources":{"mapbox.js":"import { showAlert } from './alerts';\r\n\r\nconst displayMap = (locations) => {\r\n  const mapElement = document.getElementById('map');\r\n  if (!mapElement) {\r\n    return;\r\n  }\r\n\r\n  if (!locations || locations.length === 0) {\r\n    return;\r\n  }\r\n\r\n  // Check if Leaflet is available, if not wait for it\r\n  const initializeMap = () => {\r\n    if (typeof L === 'undefined') {\r\n      setTimeout(initializeMap, 100);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const map = L.map('map');\r\n\r\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        attribution:\r\n          '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\r\n        maxZoom: 19,\r\n      }).addTo(map);\r\n\r\n      const group = new L.featureGroup();\r\n\r\n      locations.forEach((loc) => {\r\n        // Create marker with reversed coordinates [lat, lng] because GeoJSON uses [lng, lat]\r\n        const marker = L.marker([loc.coordinates[1], loc.coordinates[0]]).addTo(\r\n          map,\r\n        );\r\n        marker.bindPopup(\r\n          `<p><strong>Day ${loc.day}:</strong> ${loc.description}</p>`,\r\n          {\r\n            maxWidth: 250,\r\n          },\r\n        );\r\n        group.addLayer(marker);\r\n      });\r\n\r\n      if (group.getLayers().length > 0) {\r\n        map.fitBounds(group.getBounds(), {\r\n          padding: [100, 100],\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error initializing map:', error);\r\n    }\r\n  };\r\n\r\n  initializeMap();\r\n};\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const mapElement = document.getElementById('map');\r\n  if (mapElement) {\r\n    try {\r\n      const locations = JSON.parse(mapElement.dataset.locations);\r\n      displayMap(locations);\r\n    } catch (error) {\r\n      console.error('Error parsing locations:', error);\r\n    }\r\n  }\r\n});\r\n\r\nexport { displayMap };\r\n"},"lineCount":null}},"error":null,"hash":"74180f5f0d5f1f53c80e7d1966965984","cacheData":{"env":{}}}